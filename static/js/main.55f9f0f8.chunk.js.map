{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/utills/ApiService.js","components/Button/Button.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","onClose","largeImageURL","tags","closeModalEsc","e","code","useEffect","window","addEventListener","style","overflow","removeEventListener","createPortal","className","styled","Overlay","onClick","target","currentTarget","src","alt","ImageGalleryItem","webformatURL","name","useState","showModal","setShowModal","toggleModal","prevState","ImageGalleryItemImage","api","searchQuery","page","fetchQuery","apiUrl","this","fetch","then","response","ok","json","Promise","reject","Error","incrementPage","resetPage","Button","onBtnLoadClick","buttonWrapper","type","button","LoaderSpinner","loaderWrapper","color","height","width","ImageGallery","arrImg","setArrImg","loading","setLoading","saveImages","res","hits","length","toast","error","catch","console","log","finally","scrollTo","top","documentElement","scrollHeight","behavior","map","index","Loader","Searchbar","onSubmit","setSearchQuery","preventDefault","trim","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","value","App","autoClose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.55f9f0f8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1jyOH\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__LeFD3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3jE1m\",\"Modal\":\"Modal_Modal__2XPFB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2ZVUd\",\"buttonWrapper\":\"Button_buttonWrapper__3BnCC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1XYd3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderWrapper\":\"Loader_loaderWrapper__2apIp\"};","import React, { useEffect } from \"react\"\r\nimport { createPortal } from \"react-dom\"\r\nimport styled from \"./Modal.module.css\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst modalRoot = document.querySelector(\"#modal\")\r\n\r\nconst Modal = ({ onClose, largeImageURL, tags }) => {\r\n  const closeModalEsc = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  const onOverlayClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", closeModalEsc)\r\n    const body = document.querySelector(\"body\")\r\n    body.style.overflow = \"hidden\"\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", closeModalEsc)\r\n      const body = document.querySelector(\"body\")\r\n      body.style.overflow = \"\"\r\n    }\r\n  })\r\n\r\n  return createPortal(\r\n    <div className={styled.Overlay} onClick={onOverlayClick}>\r\n      <div className={styled.Modal}>\r\n        <img src={largeImageURL} alt={tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  )\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n  largeImageURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n}\r\n\r\nexport default Modal\r\n","import React, { useState } from \"react\"\r\n\r\nimport PropTypes from \"prop-types\"\r\n\r\nimport styled from \"./ImageGalleryItem.module.css\"\r\nimport Modal from \"../Modal/Modal\"\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, name }) => {\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  const toggleModal = () => {\r\n    setShowModal((prevState) => !prevState)\r\n  }\r\n\r\n  return (\r\n    <li className={styled.ImageGalleryItem}>\r\n      <img src={webformatURL} alt={name} className={styled.ImageGalleryItemImage} onClick={toggleModal} />\r\n      {showModal && <Modal onClose={toggleModal} largeImageURL={largeImageURL} alt={name} />}\r\n    </li>\r\n  )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  name: PropTypes.string,\r\n}\r\n\r\nexport default ImageGalleryItem\r\n","const apiKey = \"22768423-65df9381e505940710ceeb6f4\"\r\nconst perPage = 12\r\n\r\nfunction fetchQuery() {\r\n  const apiUrl = `https://pixabay.com/api/?q=${this.searchQuery}&page=${this.page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}`\r\n  return fetch(apiUrl).then((response) => {\r\n    if (response.ok) {\r\n      return response.json()\r\n    }\r\n    return Promise.reject(new Error(`\"${this.searchQuery}\" did't found`))\r\n  })\r\n}\r\n\r\nfunction incrementPage() {\r\n  this.page += 1\r\n}\r\n\r\nfunction resetPage() {\r\n  this.page = 1\r\n}\r\n\r\nconst api = {\r\n  searchQuery: \"\",\r\n  page: 1,\r\n  fetchQuery,\r\n  incrementPage,\r\n  resetPage,\r\n}\r\n\r\nexport default api\r\n","import styled from \"./Button.module.css\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst Button = ({ onBtnLoadClick }) => {\r\n  return (\r\n    <div className={styled.buttonWrapper}>\r\n      <button onClick={onBtnLoadClick} type=\"button\" className={styled.button}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\nButton.propTypes = {\r\n  onBtnLoadClick: PropTypes.func,\r\n}\r\n\r\nexport default Button\r\n","import Loader from \"react-loader-spinner\"\r\nimport styled from \"./Loader.module.css\"\r\n\r\nconst LoaderSpinner = () => {\r\n  return (\r\n    <div className={styled.loaderWrapper}>\r\n      <Loader type=\"Circles\" color=\"#3f51b5\" height={80} width={80} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoaderSpinner\r\n","import React, { useState, useEffect } from \"react\"\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\"\r\nimport styled from \"./ImageGallery.module.css\"\r\n\r\nimport { toast } from \"react-toastify\"\r\nimport \"react-toastify/dist/ReactToastify.css\"\r\n\r\nimport PropTypes from \"prop-types\"\r\n\r\nimport api from \"../utills/ApiService\"\r\nimport Button from \"../Button/Button\"\r\nimport LoaderSpinner from \"../Loader/Loader\"\r\n\r\nconst ImageGallery = ({ searchQuery }) => {\r\n  const [arrImg, setArrImg] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const saveImages = () => {\r\n    setLoading(true)\r\n    const notifyError = () => toast.error(\"Images wasn`t found\")\r\n\r\n    api\r\n      .fetchQuery()\r\n      .then((res) => {\r\n        if (!res.hits.length) notifyError()\r\n        setArrImg((prevState) => [...prevState, ...res.hits])\r\n      })\r\n\r\n      .catch((error) => console.log(error))\r\n      .finally(() => setLoading(false))\r\n  }\r\n\r\n  const onLoadMoreClick = () => {\r\n    api.incrementPage()\r\n    saveImages()\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!searchQuery) {\r\n      return\r\n    }\r\n    setArrImg([])\r\n    api.resetPage()\r\n    api.searchQuery = searchQuery\r\n    saveImages()\r\n  }, [searchQuery])\r\n\r\n  useEffect(() => {\r\n    if (api.page > 1) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      })\r\n    }\r\n  }, [arrImg])\r\n\r\n  return (\r\n    <>\r\n      <ul className={styled.ImageGallery}>\r\n        {arrImg.map(({ webformatURL, tags, largeImageURL }, index) => (\r\n          <ImageGalleryItem webformatURL={webformatURL} name={tags} key={index} largeImageURL={largeImageURL} />\r\n        ))}\r\n      </ul>\r\n      {arrImg.length > 1 && !loading && <Button onBtnLoadClick={onLoadMoreClick} />}\r\n      {loading && <LoaderSpinner />}\r\n    </>\r\n  )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  searchQuery: PropTypes.string,\r\n}\r\n\r\nexport default ImageGallery\r\n","import React, { useState } from \"react\"\r\n\r\nimport PropTypes from \"prop-types\"\r\n\r\nimport styled from \"./Searchbar.module.css\"\r\nimport { toast } from \"react-toastify\"\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [searchQuery, setSearchQuery] = useState(\"\")\r\n\r\n  const onHandleInputChange = (e) => {\r\n    setSearchQuery(e.currentTarget.value)\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (searchQuery.trim() === \"\") {\r\n      return toast.error(\"Please enter the date\")\r\n    }\r\n    onSubmit(searchQuery)\r\n    setSearchQuery(\"\")\r\n  }\r\n\r\n  return (\r\n    <header className={styled.Searchbar}>\r\n      <form onSubmit={handleSubmit} className={styled.SearchForm}>\r\n        <button type=\"submit\" className={styled.SearchFormButton}>\r\n          <span className={styled.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styled.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={onHandleInputChange}\r\n          value={searchQuery}\r\n          name=\"searchQuery\"\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n}\r\n\r\nexport default Searchbar\r\n","import React, { useState } from \"react\"\nimport { ToastContainer } from \"react-toastify\"\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\"\nimport Searchbar from \"./components/Searchbar/Searchbar\"\n\nconst App = () => {\n  const [searchQuery, setSearchQuery] = useState(\"\")\n\n  return (\n    <>\n      <Searchbar onSubmit={setSearchQuery} />\n      <ImageGallery searchQuery={searchQuery} />\n      <ToastContainer autoClose={2000} />\n    </>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport \"./index.css\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__14SkJ\",\"SearchForm\":\"Searchbar_SearchForm__1xD1R\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1LqLP\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1aa-F\",\"SearchFormInput\":\"Searchbar_SearchFormInput__11gho\",\"SearchFormInputt\":\"Searchbar_SearchFormInputt__YmfOD\"};"],"sourceRoot":""}