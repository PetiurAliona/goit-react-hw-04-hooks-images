(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1jyOH",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__LeFD3"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3jE1m",Modal:"Modal_Modal__2XPFB"}},12:function(e,t,a){e.exports={button:"Button_button__2ZVUd",buttonWrapper:"Button_buttonWrapper__3BnCC"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1XYd3"}},16:function(e,t,a){e.exports={loaderWrapper:"Loader_loaderWrapper__2apIp"}},21:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(4),c=a.n(n),o=(a(21),a(3)),s=a(5),u=a(13),l=a(10),i=a.n(l),m=a(11),h=a.n(m),b=a(1),j=document.querySelector("#modal"),d=function(e){var t=e.onClose,a=e.largeImageURL,c=e.tags,o=function(e){"Escape"===e.code&&t()};return Object(r.useEffect)((function(){return window.addEventListener("keydown",o),document.querySelector("body").style.overflow="hidden",function(){window.removeEventListener("keydown",o),document.querySelector("body").style.overflow=""}})),Object(n.createPortal)(Object(b.jsx)("div",{className:h.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(b.jsx)("div",{className:h.a.Modal,children:Object(b.jsx)("img",{src:a,alt:c})})}),j)},f=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.name,c=Object(r.useState)(!1),s=Object(o.a)(c,2),u=s[0],l=s[1],m=function(){l((function(e){return!e}))};return Object(b.jsxs)("li",{className:i.a.ImageGalleryItem,children:[Object(b.jsx)("img",{src:t,alt:n,className:i.a.ImageGalleryItemImage,onClick:m}),u&&Object(b.jsx)(d,{onClose:m,largeImageURL:a,alt:n})]})},g=a(14),p=a.n(g);a(23);var O={searchQuery:"",page:1,fetchQuery:function(){var e=this,t="https://pixabay.com/api/?q=".concat(this.searchQuery,"&page=").concat(this.page,"&key=").concat("22768423-65df9381e505940710ceeb6f4","&image_type=photo&orientation=horizontal&per_page=").concat(12);return fetch(t).then((function(t){return t.ok?t.json():Promise.reject(new Error('"'.concat(e.searchQuery,"\" did't found")))}))},incrementPage:function(){this.page+=1},resetPage:function(){this.page=1}},_=a(12),y=a.n(_),S=function(e){var t=e.onBtnLoadClick;return Object(b.jsx)("div",{className:y.a.buttonWrapper,children:Object(b.jsx)("button",{onClick:t,type:"button",className:y.a.button,children:"Load more"})})},I=a(15),x=a.n(I),v=a(16),w=a.n(v),F=function(){return Object(b.jsx)("div",{className:w.a.loaderWrapper,children:Object(b.jsx)(x.a,{type:"Circles",color:"#3f51b5",height:80,width:80})})},L=function(e){var t=e.searchQuery,a=Object(r.useState)([]),n=Object(o.a)(a,2),c=n[0],l=n[1],i=Object(r.useState)(!1),m=Object(o.a)(i,2),h=m[0],j=m[1],d=function(){j(!0);O.fetchQuery().then((function(e){e.hits.length||s.b.error("Images wasn`t found"),l((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e.hits))}))})).catch((function(e){return console.log(e)})).finally((function(){return j(!1)}))};return Object(r.useEffect)((function(){t&&(l([]),O.resetPage(),O.searchQuery=t,d())}),[t]),Object(r.useEffect)((function(){O.page>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[c]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:p.a.ImageGallery,children:c.map((function(e,t){var a=e.webformatURL,r=e.tags,n=e.largeImageURL;return Object(b.jsx)(f,{webformatURL:a,name:r,largeImageURL:n},t)}))}),c.length>1&&!h&&Object(b.jsx)(S,{onBtnLoadClick:function(){O.incrementPage(),d()}}),h&&Object(b.jsx)(F,{})]})},k=a(6),B=a.n(k),C=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(o.a)(a,2),c=n[0],u=n[1];return Object(b.jsx)("header",{className:B.a.Searchbar,children:Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c.trim())return s.b.error("Please enter the date");t(c),u("")},className:B.a.SearchForm,children:[Object(b.jsx)("button",{type:"submit",className:B.a.SearchFormButton,children:Object(b.jsx)("span",{className:B.a.SearchFormButtonLabel,children:"Search"})}),Object(b.jsx)("input",{className:B.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){u(e.currentTarget.value)},value:c,name:"searchQuery"})]})})},N=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(C,{onSubmit:n}),Object(b.jsx)(L,{searchQuery:a}),Object(b.jsx)(s.a,{autoClose:2e3})]})};c.a.render(Object(b.jsx)(N,{}),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__14SkJ",SearchForm:"Searchbar_SearchForm__1xD1R",SearchFormButton:"Searchbar_SearchFormButton__1LqLP",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1aa-F",SearchFormInput:"Searchbar_SearchFormInput__11gho",SearchFormInputt:"Searchbar_SearchFormInputt__YmfOD"}}},[[44,1,2]]]);
//# sourceMappingURL=main.55f9f0f8.chunk.js.map